<template>
  <!-- <require from="./drag-watch"></require> -->

  <svg height.bind="height" width.bind="width"  style="user-select: none; -webkit-user-select: none; display: block;">
    <rect repeat.for="d of ytickMarks" d.bind="d" x="0" y.bind="d[0]" width="100%" height="1" fill="#eee"></rect>
    <g class="zoomable">
      <content></content>
    </g>
    <rect x="0" y="0" width="185" height="100%" fill="rgba(255,255,255,0.9)"></rect>
    <g repeat.for="label of labels" opacity.bind="label[2] ? 0.5 : 1" style="cursor: pointer" click.delegate="$parent.labelClick($index)">
      <text x="20" y.bind="$parent.height/2 - (($parent.labels.length-1)*16/2) + $index*16" text-anchor="start" font-size="11px" alignment-baseline="middle">${label[0]}</text>
      <path transform.bind="'translate(10,'+($parent.height/2 - (($parent.labels.length-1)*16/2) + $index*16)+')'" fill.bind="label[3]" d.bind="label[1]"></path>
    </g>
    <text x="135" y.bind="height/2" transform.bind="'rotate(-90 135,'+height/2+')'" font-size="11px" text-anchor="middle">${ylabel}</text>
    <text x="150" y.bind="height/2" transform.bind="'rotate(-90 150,'+height/2+')'" font-size="11px" text-anchor="middle">(${yunits})</text>
    <text repeat.for="d of ytickMarks" x="180" y.bind="d[0]" text-anchor="end" font-size="11px" alignment-baseline="middle">${d[1]}</text>
  </svg><!--x1="0" x2="100%" y1.bind="d" y2.bind="d"<path repeat.for="d of ytickLines" d.bind="d"  stroke="black" stroke-width="1px" fill="none" />drag-watch.call="dragMove($event)"transform="rotate(180)"-->
</template>
